(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5068:function(e,t,n){Promise.resolve().then(n.bind(n,7811))},7811:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return m}});var l=n(7437),a=n(2265),r=function e(t,n,l,a,r,i){if(t.value||t.isLeaf)return i(t,l,a,"returning value",[],null),t.value;if(r){let r=-1/0;for(let s of(i(t,l,a,"maximizing",[],null),t.children))if(r=Math.max(r,e(s,n-1,l,a,!1,i)),i(t,l=Math.max(l,r),a,"updating",[],r),l>=a){let e=[];for(let n of t.children.slice(t.children.indexOf(s)+1))e.push(n.id);i(t,l,a,"pruned",e,null);break}return r}{let r=1/0;for(let s of(i(t,l,a,"minimizing",[],[]),t.children))if(r=Math.min(r,e(s,n-1,l,a,!0,i)),i(t,l,a=Math.min(a,r),"updating",[],r),a<=l){let e=[];for(let n of t.children.slice(t.children.indexOf(s)+1))e.push(n.id);i(t,l,a,"pruned",e,null);break}return r}};let i=0;function s(e){return function e(t){if(0===t)return{id:i++,value:Math.floor(100*Math.random())};let n={id:i++,children:[],isPruned:!1},l=Math.floor(2*Math.random())+2;for(let a=0;a<l;a++)n.children.push(e(t-1));return n}(e)}let d=(0,a.createContext)(),o=e=>{let t,n,{children:o}=e,[c,u]=(0,a.useState)(3),[h,p]=(0,a.useState)(()=>s(c)),[x,v]=(0,a.useState)(-1/0),[f,g]=(0,a.useState)(1/0),[m,j]=(0,a.useState)([]),[b,C]=(0,a.useState)(-1),[_,N]=(0,a.useState)({}),S=(t=[],console.log("report step evaluated pre",n={}),(e,l,a,r,i,s)=>{"pruned"===r&&(t=[...t,...i]),"updating"===r&&(n[e.id]=s,console.log("report step evaluated post",n));let d={node:e,alpha:l,beta:a,action:r,pruned:t,evaluated:{...n}};j(e=>[...e,d])});(0,a.useEffect)(()=>{console.log("reportStep UE steps:",m)},[_]);let k=()=>{j([]),C(-1),N({node:null,alpha:-1/0,beta:1/0,pruned:[],evaluated:{}}),v(-1/0),g(1/0)};return(0,a.useEffect)(()=>{console.log("Updated steps:",m)},[m]),(0,l.jsx)(d.Provider,{value:{treeData:h,setTreeData:p,alpha:x,beta:f,currentStep:_,setCurrentStep:N,depth:c,setDepth:u,generateNewTree:()=>{p(s(c)),k()},computeSteps:()=>{k(),N({action:"Start"}),console.log("COMPUTE STEPS"),console.log(_),r(h,c,-1/0,1/0,!0,S)},nextStep:()=>{if(b<m.length-1){console.log("nextStep pre-inc currentStepIndex",b),C(e=>e+1);let e=m[b+1];N({...e}),v(e.alpha),g(e.beta)}},prevStep:()=>{if(b>0){C(e=>e-1);let e=m[b-1];N({...e}),v(e.alpha),g(e.beta)}},handleDeleteNode:e=>{console.log("made it to delete");let t=n=>n.id===e?null:(n.children&&(n.children=n.children.map(t).filter(e=>null!==e)),n);console.log(" old treeData:",h),p(t(h)),console.log("treeData:",h),k()},handleAddChild:e=>{let t=n=>{if(n.id===e){delete n.value;let e={id:i++,value:Math.floor(100*Math.random()),children:[]};n.children?n.children.push(e):n.children=[e]}else n.children&&(n.children=n.children.map(t));return n};p(t(h)),k()},handleEditNodeValue:(e,t)=>{let n=l=>(l.id===e?l.value=t:l.children&&(l.children=l.children.map(n)),l);p(n(h)),k()}},children:o})};var c=n(770),u=e=>{let{isVisible:t,value:n,onSave:r,onCancel:i}=e,[s,d]=(0,a.useState)(n);return t?(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("h2",{children:"Edit Node Value"}),(0,l.jsx)("input",{type:"number",value:s,onChange:e=>d(e.target.value)}),(0,l.jsx)("button",{onClick:()=>r(s),children:"Save"}),(0,l.jsx)("button",{onClick:i,children:"Cancel"})]})}):null},h=()=>{let{treeData:e,currentStep:t,handleDeleteNode:n,handleAddChild:r,handleEditNodeValue:i}=(0,a.useContext)(d),[s,o]=(0,a.useState)({visible:!1,x:0,y:0,nodeData:null}),[h,p]=(0,a.useState)(!1),[x,v]=(0,a.useState)(null),f=e=>{v(e),p(!0)},g=(e,t)=>{o({visible:!0,x:e.pageX,y:e.pageY,nodeData:t}),console.log("nodeData",t)},m=()=>{o({visible:!1,x:0,y:0,node:null})};(0,a.useEffect)(()=>{let e=e=>{s.visible&&m()};return window.addEventListener("click",e),()=>{window.removeEventListener("click",e)}},[s.visible]);let[j,b]=(0,a.useState)({width:800,height:400});(0,a.useEffect)(()=>{let e=()=>{b({width:window.innerWidth-400,height:window.innerHeight-400})};return window.addEventListener("resize",e),e(),()=>{window.removeEventListener("resize",e)}},[]);let C=(0,a.useRef)();return(0,a.useEffect)(()=>{if(!e)return;let n=c.Ys(C.current);n.selectAll("*").remove();let l=c.G_s().size([j.width,j.height]),a=c.bT9(e,e=>e.children);l(a);let r=n.append("g").attr("transform","translate(0,50)");r.selectAll(".link").data(a.descendants().slice(1)).enter().append("path").attr("class","link").attr("d",e=>"M".concat(e.x,",").concat(e.y,"C").concat(e.x,",").concat((e.y+e.parent.y)/2," ").concat(e.parent.x,",").concat((e.y+e.parent.y)/2," ").concat(e.parent.x,",").concat(e.parent.y));let i=r.selectAll(".node").data(a.descendants()).enter().append("g").attr("transform",e=>"translate(".concat(e.x,",").concat(e.y,")")).attr("class","node").style("cursor","pointer");i.append("path").attr("d",c.NAG().type(c.P67).size(500)).attr("stroke","black").attr("fill",e=>t.pruned&&t.pruned.includes(e.data.id)?"grey":t.node&&t.node.id===e.data.id?"green":e.depth%2==0?"DodgerBlue":"red").attr("stroke-width",1).attr("transform",e=>e.depth%2==0?"rotate(0)":"rotate(180)"),i.append("text").attr("dy",3).attr("y",e=>e.children?-30:30).style("text-anchor","middle").text(e=>e.data.value).text(e=>{let n=[];return t.evaluated&&(n=Object.keys(t.evaluated)),n.includes(String(e.data.id))?t.evaluated[e.data.id]:e.data.value}),i.on("contextmenu",(e,t)=>{e.preventDefault(),g(e,t)})},[e,t]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("svg",{ref:C,width:j.width,height:j.height,className:"tree-visualization"}),s.visible&&(0,l.jsx)("div",{className:"context-menu",style:{position:"absolute",top:s.y,left:s.x},children:(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{onClick:()=>{r(s.nodeData.data.id),m()},children:"Add Child"}),(0,l.jsx)("li",{onClick:()=>{n(s.nodeData.data.id),m()},children:"Delete Node"}),void 0!==s.nodeData.data.value&&(0,l.jsx)("li",{onClick:()=>{f(s.nodeData),m()},children:"Edit Value"})]})}),(0,l.jsx)(u,{isVisible:h,value:x?x.value:"",onSave:e=>{x&&(console.log("here newValue",e,x),i(x.data.id,e)),p(!1),v(null)},onCancel:()=>{p(!1),v(null)}})]})},p=n(4945),x=n.n(p),v=function(){let{alpha:e,beta:t,currentStep:n}=(0,a.useContext)(d);return(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Alpha: "}),e]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Beta: "}),t]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:" Step: "}),n.action?n.action:"Algorithm not Ran"]})]})},f=function(){let{generateNewTree:e,computeSteps:t,nextStep:n,prevStep:r,depth:i,setDepth:s}=(0,a.useContext)(d);return(0,l.jsxs)("div",{style:{textAlign:"center"},children:[(0,l.jsx)("div",{children:(0,l.jsx)(v,{})}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{className:x().button,onClick:t,children:"Run Alpha-Beta"})}),(0,l.jsxs)("div",{className:x().stepControls,children:[(0,l.jsx)("button",{className:x().stepButton,onClick:r,children:"\xab Previous"}),(0,l.jsx)("button",{className:x().stepButton,onClick:n,children:"Next \xbb"})]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{className:x().generateButton,onClick:e,children:"Generate New Tree"})}),(0,l.jsxs)("div",{className:x().sliderContainer,children:[(0,l.jsxs)("label",{htmlFor:"tree-depth-slider",children:["Tree Depth: ",i+1]}),(0,l.jsx)("input",{id:"tree-depth-slider",type:"range",min:"0",max:"5",value:i,onChange:e=>{s(parseInt(e.target.value,10))}})]})]})},g=function(){return(0,l.jsxs)("div",{className:"sidebar",children:[(0,l.jsx)("div",{className:"sidebar-content",children:(0,l.jsx)(f,{})}),(0,l.jsxs)("div",{className:"information",children:["â“˜ ",(0,l.jsx)("br",{}),"Press Run Alpha-Beta to execute the algorithm. ",(0,l.jsx)("br",{}),"Navigate through the steps of the algorithm using the next and previous buttons. ",(0,l.jsx)("br",{}),"Right Click a Node to edit, delete, or add a child. ",(0,l.jsx)("br",{})]})]})};function m(){return(0,l.jsx)(o,{children:(0,l.jsxs)("main",{className:"app-container",children:[(0,l.jsx)(h,{}),(0,l.jsx)(g,{})]})})}},4945:function(e){e.exports={button:"ControlPanel_button__t661m",generateButton:"ControlPanel_generateButton__xZTb2",stepControls:"ControlPanel_stepControls__lvP_G",stepButton:"ControlPanel_stepButton__IGrMT",nextButton:"ControlPanel_nextButton__KGvB0",prevButton:"ControlPanel_prevButton__Magg1",sliderContainer:"ControlPanel_sliderContainer__ij_6s"}}},function(e){e.O(0,[117,770,971,23,744],function(){return e(e.s=5068)}),_N_E=e.O()}]);